---
import FloatingNav from "@/components/FloatingNav";

const pathname = Astro.url.pathname;

function getPageTitle(pathname: string): string {
  if (pathname === "/") return "Home";
  if (pathname === "/projects/airlume") return "Airlume";
  if (pathname === "/projects/sparkbites") return "Sparkbites";

  return (
    pathname
      .replace(/^\//g, "")
      .replace(/-/g, " ")
      .replace(/\b\w/g, (l) => l.toUpperCase()) || "Page"
  );
}

const pageTitle = getPageTitle(pathname);

// Navigation options
const navOptions = [
  { label: "Home", href: "/", icon: "home" },
  { label: "Airlume", href: "/projects/airlume", icon: "book" },
  { label: "Sparkbites", href: "/projects/sparkbites", icon: "book" },
];

// Filter options to exclude current page and hide certain links on specific pages
const filteredOptions = navOptions.filter((opt) => {
  if (opt.href === pathname) return false;
  return true;
});
---

<FloatingNav client:load pageTitle={pageTitle} filteredOptions={filteredOptions} />
