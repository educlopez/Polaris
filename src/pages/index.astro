---
import Layout from "../layouts/Layout.astro";
import siteConfig from "../config/site.json";

import ListProjects from "../components/listProjects.astro";
const { company, contact, experience } = siteConfig;

import { Image } from "astro:assets";
import { ArrowUpRightIcon } from "@lucide/astro";
import { Button } from "@/components/ui/button";
---

<Layout title="Eduardo Calvo | UI Designer & Frontend Developer">
  <Fragment slot="left-content">
    <div class="flex w-full flex-col gap-6">
      <div class="flex items-center gap-3">
        <Image
          src={company.logo}
          alt={company.name}
          width="32"
          height="32"
          class="rounded-full"
        />
        <div class="flex items-center gap-2">
          <span class="relative flex size-2">
            <span
              class={`absolute inline-flex h-full w-full animate-ping rounded-full  opacity-75 ${company.status.available ? "bg-emerald-400" : "bg-red-400"}`}
            ></span>
            <span
              class={`relative inline-flex size-2 rounded-full ${company.status.available ? "bg-emerald-500" : "bg-red-500"}`}
            ></span>
          </span>

          <span class="text-xs font-medium text-gray-600">
            {company.status.text}
          </span>
        </div>
      </div>
      <div class="flex flex-col gap-3">
        <h1 class="text-balance font-semibold text-2xl">
          {company.name}
        </h1>
        <h2 class="text-balance font-normal text-2xl">
          {company.description}
        </h2>
        <p class="text-sm text-gray-500">{company.longDescription}</p>
      </div>
      <div class="flex items-center gap-3">
        <a href={contact.bookCall.url}>
          <Button>
            {contact.bookCall.text}
          </Button>
        </a>
        <a href={contact.chat.url} target="_blank">
          <Button variant="outline">
            {contact.chat.text}
          </Button>
        </a>
      </div>
      <div class="flex flex-col gap-3 w-full">
        {
          experience.map((exp) => (
            <div class="group relative flex flex-col py-3 px-3 rounded-lg hover:bg-gray-50 transition-all duration-300 ease-in-out cursor-pointer">
              <div class="flex items-center justify-between w-full">
                <h3 class="font-medium text-sm text-gray-900">{exp.company}</h3>
                <span class="text-xs text-gray-400">{exp.year}</span>
              </div>
              <div class="overflow-hidden transition-all duration-300 ease-in-out">
                <div class="max-h-0 group-hover:max-h-20 transition-all duration-300 ease-in-out">
                  <p class="text-xs text-gray-500 pt-2 leading-relaxed">
                    {exp.description}
                  </p>
                </div>
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </Fragment>
  <Fragment slot="right-content">
    <ListProjects />
  </Fragment>
</Layout>
